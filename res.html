<!DOCTYPE html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Hello, World</title>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<style type="text/css">
html{height:100%}
body{height:100%;margin:0px;padding:0px}
#container{height:100%}
</style>
<script type="text/javascript" src="location.js"></script>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=3.0&ak=LIDfZCWtAwz4d6yOsPYbcUx9B3X7r5V9">
//v3.0版本的引用方式：src="http://api.map.baidu.com/api?v=3.0&ak=您的密钥"
</script>
</head>

<body>
<div id="container"></div>

<script type="text/javascript">
    var map = new BMap.Map("container");                        // 创建Map实例
    var point = new BMap.Point(106.53971, 29.56045);
    map.centerAndZoom(point, 15);     // 初始化地图,设置中心点坐标和地图级别
    map.enableScrollWheelZoom();                        //启用滚轮放大缩小
    // var data = {'data':[[106.53971, 29.56045], [106.53963, 29.55892]]};
    if (document.createElement('canvas').getContext) {  // 判断当前浏览器是否支持绘制海量点
        var points = [];  // 添加海量点数据
        for (var i = 0; i < 10; i++) {
            points.push(new BMap.Point(data.data[i][0], data.data[i][1]));
        }
        var options = {
            size: BMAP_POINT_SIZE_SMALL,
            shape: BMAP_POINT_SHAPE_STAR,
            color: '#d30004'
        }

        translateCallback = function (data){
              if(data.status === 0) {
                    var pointCollection = new BMap.PointCollection(data.points);  // 初始化PointCollection
                    pointCollection.addEventListener('click', function (e) {
                      alert('单击点的坐标为：' + e.point.lng + ',' + e.point.lat);  // 监听点击事件
                    });
                    map.addOverlay(pointCollection);  // 添加Overlay

              }
            }

            setTimeout(function(){
                var convertor = new BMap.Convertor();
                convertor.translate(points, 1, 5, translateCallback)
            }, 1000);
    } else {
        alert('请在chrome、safari、IE8+以上浏览器查看本示例');
    }
  </script>
</body>
</html>